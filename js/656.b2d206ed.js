"use strict";(self["webpackChunkhorario"]=self["webpackChunkhorario"]||[]).push([[656],{9323:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var i=a(7179),r=a(3058),s=a(5223),n=a(4437),l=a(6035),o=a(9531),d=a(5452),u=a(6904),c=a(5057),m=a(5294),h=a(4544),f=a(5234),g=a(5251),p=a(1002),v=a(2370),b=function(){var e=this,t=e._self._c;return t(r.Z,{staticClass:"mx-auto mt-5",attrs:{flat:""}},[t(o.Z,{attrs:{"hide-default-footer":!0,"disable-pagination":"","disable-filtering":"","disable-sort":"",headers:e.headers,items:e.salas},scopedSlots:e._u([{key:"top",fn:function(){return[t(p.Z,{attrs:{flat:""}},[t(v.qW,[e._v("Turmas")]),t(f.Z),t(n.Z,{attrs:{cols:"3"}},[null!=e._turnos&&e._turnos.length>1?t(h.Z,{attrs:{items:e._turnos,"item-text":"name","item-value":"id"},model:{value:e.turnoSelecionado,callback:function(t){e.turnoSelecionado=t},expression:"turnoSelecionado"}}):e._e()],1),t(d.Z,{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t(i.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",disabled:null===e.turnoSelecionado||e.locked}},"v-btn",r,!1),a),[e._v(" Nova turma ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(r.Z,[t(s.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(s.ZB,[t(l.Z,[t(u.Z,{ref:"form",on:{submit:function(e){e.preventDefault()}}},[t(m.Z,[t(n.Z,{attrs:{cols:"6",sm:"6"}},[t(g.Z,{attrs:{label:"Nome da sala",rules:[e.rules.required]},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),t(n.Z,{attrs:{cols:"6",sm:"6"}},[t(g.Z,{attrs:{label:"Dias sem última aula",type:"number",min:"0",rules:[e.rules.required,e.rules.greaterOrEqualThanZero]},model:{value:e.editedItem.dias_sem_ultima_aula,callback:function(t){e.$set(e.editedItem,"dias_sem_ultima_aula",t)},expression:"editedItem.dias_sem_ultima_aula"}})],1),t(n.Z,{attrs:{cols:"6",sm:"6"}},[t(g.Z,{attrs:{label:"Ordenação",type:"number",rules:[e.rules.required,e.rules.greaterOrEqualThanZero]},model:{value:e.editedItem.ordem,callback:function(t){e.$set(e.editedItem,"ordem",t)},expression:"editedItem.ordem"}})],1)],1)],1)],1)],1),t(s.h7,[t(f.Z),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" OK ")])],1)],1)],1),t(d.Z,{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(r.Z,[t(s.EB,{staticClass:"text-h5"},[e._v("Tem certeza que deseja excluir essa sala? ")]),t(s.h7,[t(f.Z),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),t(i.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),t(f.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(c.Z,{staticClass:"mr-2",attrs:{small:"",disabled:e.locked},on:{click:function(t){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t(c.Z,{attrs:{small:"",disabled:e.locked},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}}])})],1)},_=[],Z=a(4916),y={props:["_turnos","_salas","locked"],mixins:[Z.Z],data(){return{editedItem:{name:null,dias_sem_ultima_aula:0,ordem:0},defaultItem:{name:null,dias_sem_ultima_aula:0,ordem:0},dialogDelete:!1,dialog:!1,formTitle:null,headers:[{text:"Nome",value:"name"},{text:"Dias sem última aula",value:"dias_sem_ultima_aula"},{text:"Ordenação",value:"ordem"},{text:"Ações",value:"actions",sortable:!1,width:"10%"}]}},watch:{dialog(e){e||this.close(),!0===e&&this.resetValidation()},dialogDelete(e){e||this.closeDelete()}},computed:{salas(){return this._salas.filter((e=>e.turno===this.turnoSelecionado))},turnoSelecionado:{get(){return this.$store.state.selectedPeriod},set(e){this.$store.dispatch("setSelectedPeriod",e)}}},methods:{editItem(e){this.editedIndex=this.salas.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.editedIndex=this.salas.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.$emit("delete",this.turnoSelecionado,this.salas[this.editedIndex].name),this.closeDelete()},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},save(){this.validate()&&(this.editedItem.turno=this.turnoSelecionado,this.$emit("save",this.salas[this.editedIndex]?this.salas[this.editedIndex].name:void 0,this.editedItem),this.close())}}},x=y,$=a(3736),I=(0,$.Z)(x,b,_,!1,null,null,null),k=I.exports},4192:function(e,t,a){a.d(t,{Z:function(){return r}});var i=a(3276),r=i.Z.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})},6904:function(e,t,a){var i=a(4987),r=a(4609),s=a(380);t["Z"]=(0,i.Z)(r.Z,(0,s.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(e){const t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(e){const t=e=>e.$watch("hasError",(t=>{this.$set(this.errorBag,e._uid,t)}),{immediate:!0}),a={_uid:e._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?a.shouldValidate=e.$watch("shouldValidate",(i=>{i&&(this.errorBag.hasOwnProperty(e._uid)||(a.valid=t(e)))})):a.valid=t(e),a},validate(){return 0===this.inputs.filter((e=>!e.validate(!0))).length},reset(){this.inputs.forEach((e=>e.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((e=>e.resetValidation())),this.resetErrorBag()},register(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister(e){const t=this.inputs.find((t=>t._uid===e._uid));if(!t)return;const a=this.watchers.find((e=>e._uid===t._uid));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((e=>e._uid!==t._uid)),this.inputs=this.inputs.filter((e=>e._uid!==t._uid)),this.$delete(this.errorBag,t._uid)}},render(e){return e("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:e=>this.$emit("submit",e)}},this.$slots.default)}})},4437:function(e,t,a){a(1884);var i=a(144),r=a(2653),s=a(1050);const n=["sm","md","lg","xl"],l=(()=>n.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),o=(()=>n.reduce(((e,t)=>(e["offset"+(0,s.jC)(t)]={type:[String,Number],default:null},e)),{}))(),d=(()=>n.reduce(((e,t)=>(e["order"+(0,s.jC)(t)]={type:[String,Number],default:null},e)),{}))(),u={col:Object.keys(l),offset:Object.keys(o),order:Object.keys(d)};function c(e,t,a){let i=e;if(null!=a&&!1!==a){if(t){const a=t.replace(e,"");i+=`-${a}`}return"col"!==e||""!==a&&!0!==a?(i+=`-${a}`,i.toLowerCase()):i.toLowerCase()}}const m=new Map;t["Z"]=i.ZP.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...l,offset:{type:[String,Number],default:null},...o,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:a,children:i,parent:s}){let n="";for(const r in t)n+=String(t[r]);let l=m.get(n);if(!l){let e;for(e in l=[],u)u[e].forEach((a=>{const i=t[a],r=c(e,a,i);r&&l.push(r)}));const a=l.some((e=>e.startsWith("col-")));l.push({col:!a||!t.cols,[`col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),m.set(n,l)}return e(t.tag,(0,r.ZP)(a,{class:l}),i)}})},6035:function(e,t,a){a.d(t,{Z:function(){return n}});a(9027),a(1884);var i=a(144);function r(e){return i.ZP.extend({name:`v-${e}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(t,{props:a,data:i,children:r}){i.staticClass=`${e} ${i.staticClass||""}`.trim();const{attrs:s}=i;if(s){i.attrs={};const e=Object.keys(s).filter((e=>{if("slot"===e)return!1;const t=s[e];return e.startsWith("data-")?(i.attrs[e]=t,!1):t||"string"===typeof t}));e.length&&(i.staticClass+=` ${e.join(" ")}`)}return a.id&&(i.domProps=i.domProps||{},i.domProps.id=a.id),t(a.tag,i,r)}})}var s=a(2653),n=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(e,{props:t,data:a,children:i}){let r;const{attrs:n}=a;return n&&(a.attrs={},r=Object.keys(n).filter((e=>{if("slot"===e)return!1;const t=n[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}))),t.id&&(a.domProps=a.domProps||{},a.domProps.id=t.id),e(t.tag,(0,s.ZP)(a,{staticClass:"container",class:Array({"container--fluid":t.fluid}).concat(r||[])}),i)}})},5294:function(e,t,a){a(1884);var i=a(144),r=a(2653),s=a(1050);const n=["sm","md","lg","xl"],l=["start","end","center"];function o(e,t){return n.reduce(((a,i)=>(a[e+(0,s.jC)(i)]=t(),a)),{})}const d=e=>[...l,"baseline","stretch"].includes(e),u=o("align",(()=>({type:String,default:null,validator:d}))),c=e=>[...l,"space-between","space-around"].includes(e),m=o("justify",(()=>({type:String,default:null,validator:c}))),h=e=>[...l,"space-between","space-around","stretch"].includes(e),f=o("alignContent",(()=>({type:String,default:null,validator:h}))),g={align:Object.keys(u),justify:Object.keys(m),alignContent:Object.keys(f)},p={align:"align",justify:"justify",alignContent:"align-content"};function v(e,t,a){let i=p[e];if(null!=a){if(t){const a=t.replace(e,"");i+=`-${a}`}return i+=`-${a}`,i.toLowerCase()}}const b=new Map;t["Z"]=i.ZP.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d},...u,justify:{type:String,default:null,validator:c},...m,alignContent:{type:String,default:null,validator:h},...f},render(e,{props:t,data:a,children:i}){let s="";for(const r in t)s+=String(t[r]);let n=b.get(s);if(!n){let e;for(e in n=[],g)g[e].forEach((a=>{const i=t[a],r=v(e,a,i);r&&n.push(r)}));n.push({"no-gutters":t.noGutters,"row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),b.set(s,n)}return e(t.tag,(0,r.ZP)(a,{staticClass:"row",class:n}),i)}})},4916:function(e,t){function a(e){return null==e||0===String(e).trim().length}t["Z"]={data(){return{rules:{required:e=>null!=e&&String(e).trim().length>0||"Obrigatório",greaterThanZero:e=>t=>a(t)?!0!==e||"Deve ser um número maior que zero":/^[1-9]\d*$/.test(t)||"Deve ser um número maior que zero",greaterOrEqualThanZero:e=>{if(null==e)return"Deve ser um número maior ou igual a zero";const t=parseInt(e,10);return Number.isInteger(t)&&t>=0||"Deve ser um número maior ou igual a zero"},lessThanOrEqual:(e,t)=>i=>{if(a(i))return!0!==t||"Deve ser um número menor ou igual a "+e;const r=parseInt(i,10);return Number.isInteger(r)&&r<=e||"Deve ser um número menor ou igual a "+e}}}},methods:{resetValidation(e){null!=e&&null!=this.$refs[e]?this.$refs[e].resetValidation():null!=this.$refs.form&&this.$refs.form.resetValidation()},validate(e){return null!=e&&null!=this.$refs[e]?this.$refs[e].validate():null!=this.$refs.form?this.$refs.form.validate():void 0}}}},1884:function(){}}]);
//# sourceMappingURL=656.b2d206ed.js.map